(function(A){var D=window.AmazonUIPageJS||window.P,G=D._namespace||D.attributeErrors,b=G?G("DPTwisterPlusDesktopConfiguratorAssets",""):D;b.guardFatal?b.guardFatal(A)(b,window):b.execute(function(){A(b,window)})})(function(A,D,G){A.when("A","desktop-configurator-view","desktop-configurator-widgets-factory","desktop-configurator-slot-manager","twister-dynamic-style","desktop-configurator-logger","desktop-configurator-dimension-handler","desktop-configurator-side-sheet-view","desktop-configurator-popover-factory",
"twister-js-init-dpx-data","twister-plus-desktop-configurator-mark-render").register("desktop-configurator-view-initialiser",function(b,n,u,m,f,r,x,y,w,k){(k?k.inlineTwisterData||{}:{}).inlineTwisterEnabled&&(r=new r,new n(k,u.Row,m,f,r,x,y,w),b.trigger("desktop-configurator-view-initialized"))});"use strict";A.when("A").register("desktop-configurator-dimension-handler",function(b){function n(b){this.numberOfDimensionsExpandedOnLanding=b.numberOfDimensionsExpanded||0;this.expandAllDimensions=-1===
this.numberOfDimensionsExpandedOnLanding;this.dimensionKeyRowMap={};this.expandedDimensionList=[];this.maxNumberOfDimensionsExpanded=b.maxNumberOfDimensionsExpanded||1}n.prototype={registerDimension:function(b,m){this.dimensionKeyRowMap[b]=m;(this.expandAllDimensions||this.expandedDimensionList.length<this.numberOfDimensionsExpandedOnLanding)&&this.expandedDimensionList.push(b)},init:function(){-1===this.maxNumberOfDimensionsExpanded&&(this.maxNumberOfDimensionsExpanded=Object.keys(this.dimensionKeyRowMap).length)},
expandDimension:function(b){-1===this.expandedDimensionList.indexOf(b)&&this.expandedDimensionList.push(b);if(this.maxNumberOfDimensionsExpanded<this.expandedDimensionList.length)for(var m=0;m<this.expandedDimensionList.length&&(this.expandedDimensionList[m]!==b&&this.dimensionKeyRowMap[this.expandedDimensionList[m]].collapse(),this.maxNumberOfDimensionsExpanded!==this.expandedDimensionList.length);m++);},collapseDimension:function(b){b=this.expandedDimensionList.indexOf(b);-1!==b&&this.expandedDimensionList.splice(b,
1)}};return n});"use strict";A.when("A","desktop-configurator-constants","3p-promise").register("desktop-configurator-view",function(b,n,u){var m=b.$;return function(f,r,x,y,w,k,v,z){function p(){"function"===typeof D.markFeatureInteractive&&D.markFeatureInteractive("twister",{hasComponents:!0,components:[{name:"twister-desktopConfigurator"}]})}function g(){if(!F)return 0===f.unselectedDimCount;var a=t();return!!F.util.getAsinFromSelectionInfo(a)}function a(a,c,e,d,l,g,t,q,b,p,f,r){return{text:a,
image:c||"",popoverImage:e||"",name:d,id:f+"_"+d,selected:l,slotHtm:g,showSlot:t,isVisible:q,unavailable:b,defaultSlotUnavailable:U,isCirclularImageSwatch:h.inlineTwisterData&&"CIRCLE"===h.inlineTwisterData.swatchShape,asin:p,pageUrl:r}}function c(a){Q[a]||null===H[a]||(a=h.rows[a],a.toggleSwatch&&a.toggleSwatch.removeMisplacedSwatch())}function d(a,c){var e=R.unselectedDimensionPrompt||"",d=q(a),l=f&&f.dimensionsDisplay?f.dimensionsDisplay[d]:"",d=f&&f.dimensionValuesData?f.dimensionValuesData[d][c]:
"";return{dimKey:a,titleSelectorPrefix:"inline-twister-dim-title-",titleValueSelector:"inline-twister-dim-title-value",mainText:l,subText:-1!==c?d:e.replace("###dimension",(l||"").toLowerCase())}}function t(){if(!F){var a=[];b.each(h.dimList,function(c){a.push({dimKey:c,val:f.selectedVariationValues?f.selectedVariationValues[c]:-1})});return a}return F.state()}function l(){return b.map(h.dimList,function(a,c){if(!h.isSingletonMap[a])return new u(function(d){e(h.rows[a],a,c);d()})})}function e(c,d,
e){var l=h.inlineTwisterData.slotsEnabledDimensions,t=!!((h.dimList.length===l.length?l[e]:l[0])&&g(d));e=f.dimensionValuesData[q(d)];var p=c.getInitialVisibleSwatchList(),r=[];b.each(e,function(c,e){c=a(c,V[d+"::"+e],W[d+"::"+e],e,h.initSelectionState[d].val===e,p[e]?p[e].slotHtm:"",t,p[e]&&p[e].isVisible,p[e]&&p[e].unavailable,G,d,K[d]?K[d][c]:null);r.push(c)});h.swatches[d]=r}function q(a){return f&&f.dimensions?f.dimensions.indexOf(a):-1}function E(){b.each(h.rows,function(a){h.isSingletonMap[a.dimKey]||
(a.createDisplaySwatches(),a.adjustSwatchWidthAndSpacing(),h.textSwatchMap[a.dimKey]&&a.toggleSwatch.alignTextSwatches())})}function C(){function e(c,d,l){var g,t,p,r=c.expanderContent.find(".inline-twister-swatch:not(.aok-hidden):not(.swatch-prototype)"),k=q(d),E=f.dimensionValuesData[k]||[],k=parseInt(c.expanderContent.attr("data-swatchCountPerRow"))||r.length,C=k*h.inlineTwisterData.numOfRowsPerDimension,m=[];b.each(r,function(e,h){var q=parseInt(e.getAttribute("data-idxInToggleSwatchList")),b=
"true"===e.getAttribute("data-initiallySelected"),f="true"===e.getAttribute("data-initiallyUnavailable");g=e.getAttribute("data-asin");t=q;p=E[q]||"";var r,k,n;r=V[d+"::"+t];k=W[d+"::"+t];n=p;f=a(n,r,k,t,b,"",l,!0,f,g,d,K[d]?K[d][n]:null);c.toggleSwatch&&(e=c.toggleSwatch.createSwatch(f,e),f.isVisible=e.isVisible);m.push(f);b&&h>=C&&(H[d]=q)});h.inlineVariationsSize[d]=r.length;c.toggleSwatch&&c.toggleSwatch.setNumberOfSwatchesPerRow(k);return m}function l(a,c,e){var d=!(!a||!g(c)),t=h.rows[c].getInitialVisibleSwatchList();
d&&b.each(t,function(d){if(!d.unavailable){var l=z.updateIfCurrentlyActive.bind(z,d.id),l=h.slotManager.get(d.asin,c,h.noOfLoadingIndicator,!1,Y,l,e);d.updateSlotNode({showSlot:a,slotHtm:l},!1,c)}})}function k(a,c,d){a={dimIndex:h.dimIndexMap[a],dimValueIndex:c};c=n.DP_STATE_VIEW_SUBTYPE;var e=h.dimensionsMap,l;l=t();for(var g=n.CHAR_UNDERSCORE,q=[],b=0;b<h.dimensionsMap.length;b++){var p=l[b].val;-1===p&&(p=n.CHAR_ASTERISK);q.push(String(p))}l=g?q.join(g):q;return{divMetadata:a,eventType:d,subType:c,
dimensionsMap:e,currDimCombId:l}}var E=t(),C=0,v={},x=h.inlineTwisterData.slotsEnabledDimensions,u=h.inlineTwisterData.popoverSlotsEnabledDimensions;m.each(E,function(a,c){v[c.dimKey]=c;h.dimIndexMap[c.dimKey]=a;h.dimensionsMap[a]=c.dimKey});h.initSelectionState=v;m.each(h.dimList,function(a,c){var e=v[c].val;a=L(c);var e=d(c,e),g=!(h.dimList.length===x.length?x[C]:x[0]),q=-1!==S.indexOf(c);h.textSwatchMap[c]=a;a=new r("inline-twister-row-",e,{showSlot:!1,dimKey:c,inlineTwisterData:h.inlineTwisterData},
{handleDimensionExpansion:function(a,e,d){c=a.dimKey;if(d){h.dimensionHandler.expandDimension(c);a=G;d={};T[c]?(d=M(h.swatches[c],e,c,t(),!1,!q,g,!!h.dimensionsExpandedInline[c]),h.indexTranslationMap[c]=d,a={swatches:h.swatches[c]}):(l(e,c,g),T[c]=!0);var b=h.rows[c];b.setState(a,d,I,null,!1);J(e,b,c);h.logger.logDimensionExpanded(c);q||(H[c]=null)}else h.dimensionHandler.collapseDimension(c),h.logger.logDimensionCollapsed(c)}},h.logger);h.rows[c]=a;C+=1});0===h.inlineTwisterData.numberOfDimensionsExpanded&&
(p(),Z=!0);C=0;m.each(h.dimList,function(a,d){function l(c,a,e){if(a){var g=parseInt(a.buttonName,10),t=c[g]&&c[g].id?c[g].id:"";d=a.buttonGroupName;c[g]&&c[g].selected&&h.logger.logSelectedSwatchClick();t&&z.exists(t)&&z.hide(t);I=d;c={dimKey:d,val:g};h.twister.metaData(k(d,g,n.viewEvents.CLICK));h.twister.dimensionChanged(c);h.logger.logDimensionValueClick();e&&h.logger.logDimValueClickAfterAutoUpdate()}}function p(c,a){var d=a.data,e=a.type;a=a.$currentTarget;var l=d.id,q=!!g(c),q=!d.isImageSwatch&&
D&&q&&O,q=d.isImageSwatch||q,b=!O,f=[];if(d){if(e===n.viewEvents.MOUSE_ENTER){var r=parseInt(d.name,10);f.push({dimKey:c,val:r});q&&z.show(l,a,d,b)}else q&&z.hide(l),f=t();F&&(h.twister.metaData(k(c,r,e)),h.twister.dimensionPeek(f));I=c}}function r(c,a){var d=parseInt(c.buttonName,10),e=h.swatches[a];(e?e[d]:G)?(B.setUserInteracting(!0),b.delay(function(){l(e,c)},350),h.logger.logSecViewSwatchClick()):A.log("Selected swatch not found on side sheet toggle button click. Value clicked: "+d+" ; Swatch length: "+
h.swatches[a].length,aa.ERROR,aa.ATTRIBUTION)}function E(c,a){h.isSideSheetOpen=a;h.isWindowResizedAfterSideSheetOpen&&!a&&m.each(h.dimList,function(c,a){h.textSwatchMap[a]&&(X(a),(c=h.rows[a])&&c.toggleSwatch&&c.toggleSwatch.alignTextSwatches())});h.isWindowResizedAfterSideSheetOpen=!1}function v(a,d,e){var l=R.desktopConfiguratorAllOptionsString||"",g=h.swatches[a].length,q={dimensionDisplayText:e.mainText,displayValueText:e.subText,dimKey:a,getSwatchInfo:B.getSwatch.bind(B),destroyPopover:z.destroy,
optionsText:l,totalValueCount:g,isTextSwatch:y};h.sideSheet.open(q);var p={swatches:h.swatches[a]};b.delay(function(){var e=M(h.swatches[a],d,a,t(),!0,!1,P,!1);N&&c(a);B.setState(p,e,I,null,!0,!0);h.sideSheet.update(q);Q[a]=!0;b.delay(function(){y&&J(d,B,a,!0);y&&B.toggleSwatch&&g<n.TEXT_ALIGNMENT_LIMIT&&B.toggleSwatch.alignTextSwatches(!1,!0)})},1E3);h.isSideSheetOpen=!0;h.isWindowResizedAfterSideSheetOpen=!1}function L(a,d,e){var l=B.expanderContent.height();B.setMaxHeight(l);var g={swatches:h.swatches[a]};
if(e)e=(ba-h.inlineTwisterData.numOfRowsPerDimension+1)*l,l=M(h.swatches[a],d,a,t(),!1,!1,P,!0),N&&c(a),B.setState(g,l,I,null,!1,!0),B.triggerExpandOrCollapseAnimation(e,500),J(d,B,a),y&&B.toggleSwatch&&B.toggleSwatch.alignTextSwatches(!0),h.dimensionsExpandedInline[a]=!0,Q[a]=!0;else{e=l;d=B.getDisplaySwatches();for(l=h.inlineTwisterData.numOfRowsPerDimension;l<d.length;l++){for(var q=!1,b=G,p=0;p<d[l].length;p++)if(b=d[l][p]?d[l][p].domNode:null){var f=parseInt(b.attr("data-idxInToggleSwatchList"),
10),f=g.swatches[f];f.selected&&(q=!0);f.isVisible=f.selected}!q&&b&&(e-=b[0].scrollHeight)}B.triggerExpandOrCollapseAnimation(e,250,function(){B.setState(g,{},I,null,!1)});h.dimensionsExpandedInline[a]=!1}}function X(a){F&&(h.isWindowResizedAfterSideSheetOpen=!0,h.isSideSheetOpen||(J(h.showSlotMap[a],h.rows[a],a,!1),h.sideSheet.refreshWidth()))}var y=h.textSwatchMap[d];a=[];var w=h.dimList.length===x.length?x[C]:x[0],O=h.dimList.length===u.length?u[C]:u[0],P=!w,D=w||O,N=-1!==S.indexOf(d),B=h.rows[d];
h.showSlotMap[d]=D;w=-1!==f.singletonDimensionKeys.indexOf(d);h.isSingletonMap[d]=w;C+=1;!w&&B&&(w=!(!D||!g(d)),H[d]=null,a={name:d,swatches:a,isTextSwatch:y,onChange:l,onHover:p,hideSlotsFromMainView:P,totalSwatchCount:(f.dimensionValuesData[q(d)]||[]).length},h.sideSheet.registerToggleButtonGroup(d,r,E),B.initializeComponents(a,D,{showSideSheet:v,toggleInlineExpansion:L,handleWindowResize:X}),h.dimensionHandler.registerDimension(d,B),a=e(B,d,w),h.swatches[d]=a)});Z||p()}function L(a){var c=!0;(h.inlineTwisterData.disableImageSwatch===
G?0:h.inlineTwisterData.disableImageSwatch)||(c=!h.inlineTwisterData.imageDimensionKeysMap[a]);return c}function M(a,d,e,l,q,t,p,f){var r=!(!d||!g(e));d=F.util.getDimAvailability(e,l);var k=-1!==S.indexOf(e),E={},C=0,n=z.updateIfCurrentlyActive,v=-1;m.each(l,function(a,c){c.dimKey===e&&(v=c.val)});-1!==v&&(t&&(E[v]=C),C++);var x=h.rows[e];b.each(d.available,function(d){a[d.index]=a[d.index]||{};var l=a[d.index];l.unavailable=!1;l.selected&&(v=d.index,l.isVisible||(null!==H[e]&&a[H[e]]&&(a[H[e]].isVisible=
!1,k&&c(e)),H[e]=d.index),l.isVisible=!0);t&&(l.isVisible=C<h.inlineVariationsSize[e]||l.selected);f&&(l.isVisible=!0);var g=l.isVisible||q,m=q?l.id+"_sec":l.id;r&&g?l.slotHtm=h.slotManager.get(d.asin,e,h.noOfLoadingIndicator,q,Y,n.bind(z,m),p):(l.slotHtm=l.slotHtm||"",n(m,l.slotHtm));(q||f)&&x&&x.toggleSwatch&&(g=x.toggleSwatch.getSwatch(d.index),b.objectIsEmpty(g)&&(E[d.index]=C));t&&v!==d.index&&(E[d.index]=C);l.showSlot=r;l.selected||C++});b.each(d.unavailable,function(c){a[c.index]=a[c.index]||
{};var d=a[c.index];d.unavailable=!0;t&&(d.isVisible=C<h.inlineVariationsSize[e]);f&&(d.isVisible=!0);d.slotHtm=r?U:"";t&&(E[c.index]=C);d.showSlot=r;C++});T[e]=!0;k&&(E={});return E}function J(a,c,d,e){var l=h.textSwatchMap[d];a&&l&&(!e||h.isSideSheetOpen)&&(h.slotManager.resetMinSlotHeight(d),a=c.toggleSwatch.getSlotNodes(e),N(a,d,e),h.slotManager.updateSlotHeight(d,e))}function N(a,d,c){h.slotManager.resetSlotHeight(d,c);b.each(a,function(a,c){b.each(a,function(a){h.slotManager.setState(a,d,c)})})}
function Y(a,c){c&&!h.isSideSheetOpen||J(!0,h.rows[a],a,c)}var h=this,F=G;this.isWindowResizedAfterSideSheetOpen=!1;this.data=f;this.noOfLoadingIndicator=1;this.dimList=f.reorderedDimensionListKeys||[];this.dimensionsMap=[];this.dimensionsExpandedInline={};this.logger=w;this.inlineTwisterData=f?f.inlineTwisterData||{}:{};this.swatches={};this.sideSheet=new v;var H={},R=this.inlineTwisterData&&this.inlineTwisterData.stringTranslationMap?this.inlineTwisterData.stringTranslationMap:{},U='\x3cspan class\x3d"a-size-small default-slot-unavailable"\x3e'+
(R.defaultSlotUnavailableString||"")+"\x3c/span\x3e",V=f.imageHashMap||{},W=f.desktopConfiguratorPopoverImageMap||{},K=f.dimensionPageLoadUrls||{};this.rows={};this.dimensionHandler=new k(h.inlineTwisterData);this.isSingletonMap={};this.indexTranslationMap={};this.textSwatchMap={};var I,aa=n.loggingConstants,ba=n.MAX_INLINE_ROWS;this.isSwatchCreationComplete=!1;this.initSelectionState={};z.setVisibleSlotConfig(this.inlineTwisterData&&this.inlineTwisterData.desktopConfiguratorSlotsInPopover?this.inlineTwisterData.desktopConfiguratorSlotsInPopover:
[]);this.inlineVariationsSize={};this.dimIndexMap={};this.isSideSheetOpen=!1;this.showSlotMap={};var S=h.inlineTwisterData.dimsWithSwatchReorderingDisabled||[],Q={},T={},Z=!1;(function(){var a=h.logger.createFunctionTimerInstance("desktopConfiguratorInitTime");a.start();C();a.stop()})();b.on("register-desktop-configurator-with-twisterCore",function(a,c){F=a;h.logger.registerTwisterCore(F);h.sideSheet.init(h.logger);a=t();var e=h.inlineTwisterData.slotsEnabledDimensions,g=h.inlineTwisterData.popoverSlotsEnabledDimensions,
q={};m.each(a,function(a,c){q[c.dimKey]=c});F.slotsDimSum.addDefaultQueryParameter("showFancyPrice",h.inlineTwisterData.showFancyPrice);F.slotsDimSum.addDefaultQueryParameter("twisterFlavor",n.DESKTOP_CONFIGURATOR_FLAVOR);h.slotManager=new x(F,y,h.logger,h.inlineTwisterData);h.dimensionHandler.init();var p=0;b.each(h.rows,function(a){if(!h.isSingletonMap[a.dimKey]){a.postInitialize();var c=a.dimKey,l=q[c].val,t=L(c),f=h.dimList.length===g.length?g[p]:g[0],r=h.dimList.length===e.length?e[p]:e[0],k=
!r,E=r||f;h.twister=F.registerActive({viewAttribution:"DetailPage",viewName:"DesktopConfiguratorRowView_"+c},{updateView:function(e,g){var q,p={},f;if("VARIATION_CHANGE"===e){q=g.selected().selectionInfo();m.each(q,function(a,c){p[c.dimKey]=c});f=p[c].val;e=h.swatches[c];e[f]=e[f]||{};e[l]=e[l]||{};e[l].selected=!1;e[f].selected=!0;g=d(c,l);l===f||t||a.setThumbnailImage(e[f].image);l=f;M(e,E,c,q,!1,!1,k,!!h.dimensionsExpandedInline[c]);q=d(c,f);f={swatches:e};var r=b.filter(e,function(a){return a.isVisible});
e.length!==r.length||a.isInlineExpanded||(a.hideInlineExpansionLink(),h.inlineVariationsSize[c]=e.length);a.setExpanderHeaderAriaLabel(g,q);a.setState(f,{},I,q,!1);J(E,a,c)}else"VARIATION_PEEK"===e&&(q=g.peek().selectionInfo(),m.each(q,function(a,c){p[c.dimKey]=c}),f=p[c].val,q=d(c,f),I===c&&a.title.setState(q),h.sideSheet.activeDimKey===c&&h.sideSheet.updateDimVal(q))}});h.isSingletonMap[c]||a.handleSeeMoreIngress((h.swatches[c]||[]).length)}p++});u.all(l()).then(function(){E()});b.trigger("desktop-configurator-twisterCore-initialized",
h);c.then(function(){b.each(h.rows,function(a){a.activatePageRefresh()})})})}});"use strict";A.when("A").register("desktop-configurator-constants",function(b){return{AJAX_CALL_TIMEOUT:2E4,DIMENSION_VALUE:"DimensionValue###",DISPLAY_VALUE:"DisplayValue###",SWATCH_DATA:"SwatchData###",DESKTOP_CONFIGURATOR_FLAVOR:"twisterPlusDesktopConfigurator",MAX_DIMENSION_FLAVOUR_CAP:3,POPOVER_DELAY:500,MAX_INLINE_ROWS:7,SIDE_SHEET_ANIMATION_SPEED:300,SIDE_SHEET_PADDING:48,TEXT_SWATCH_MARGIN_RIGHT:6,CONFIGURED_SLOTS:["price",
"ms3","twisterAvailability","deliveryPromise"],DP_STATE_VIEW_SUBTYPE:"DETAILPAGE_STATE_VIEW_METADATA",CHAR_UNDERSCORE:"_",CHAR_ASTERISK:"*",DEFAULT_SCROLLER_WIDTH:20,BORDER_WIDTH:2,TEXT_ALIGNMENT_LIMIT:400,viewEvents:{MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",CLICK:"click"},sideSheetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",SEC_VIEW_DIMENSION_VALUE_LIST:" #tp-inline-twister-dim-values-container",DIMENSION_VALUES_LIST:" .dimension-values-list",DIMENSION_VALUES_LIST_ODD_CHILD:" .dimension-values-list \x3e :nth-child(odd)",
DIMENSION_VALUES_LIST_EVEN_CHILD:" .dimension-values-list \x3e :nth-child(even)",LIST_ITEM_CIRCULAR_IMAGE:".dimension-value-list-item-circular-image",CIRCULAR_IMAGE_SWATCH_BUTTON:".circle-image-swatch-button",LIST_ITEM_SQUARE_IMAGE:".dimension-value-list-item-square-image",SQUARE_IMAGE_SWATCH_BUTTON:".image-swatch-button",TEXT_LIST_ITEM:".swatch-list-item-text",TEXT_SWATCH_BUTTON:".text-swatch-button",TEXT_SWATCH_BUTTON_WITH_SLOTS:".text-swatch-button-with-slots",IMAGE_SELECTOR:".swatch-image",SEC_VIEW_TOGGLE_BUTTON_PREFIX:"sec_",
DELAY:200},widgetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",EXPANDER_HEADER_PREFIX:"#inline-twister-expander-header-",DIMENSION_EXPANDER_ICON_PREFIX:"#dimension-expander-icon-",DIMENSION_EXPANDER_ICON_WRAPPER:".dimension-expander-icon-wrapper",EXPANDED_DIMENSION_TEXT_PREFIX:"#inline-twister-expanded-dimension-text-",COLLAPSED_DIMENSION_TEXT_PREFIX:"#inline-twister-collapsed-dimension-text-",AUTO_NOTIFICATION_EXPANDED:"#inline-twister-auto-notification-expanded",AUTO_NOTIFICATION_COLLAPSED:"#inline-twister-auto-notification-collapsed",
IMAGE_THUMBNAIL:".dimension-collapsed-image-thumbnail",SWATCH_NODE_SELECTOR:".inline-twister-swatch",SLOT_NODE_SELECTOR:".dimension-slot-info",TOGGLE_BUTTON_SELECTOR:".a-button-toggle",IMAGE_SELECTOR:".swatch-image",DIMENSION_VALUES_LIST:".dimension-values-list"},classes:{A_COLOR_ATTAINABLE:"a-color-attainable",AOK_HIDDEN:"aok-hidden",DIMENSION_EXPANDER_CONTENT_EXPAND:"dimension-expander-content-expand",ROTATE:"rotate",A_BUTTON_UNAVAILABLE:"a-button-unavailable",A_BUTTON_SELECTED:"a-button-selected",
A_BUTTON_FOCUS:"a-button-focus",ROW_IDENTIFIER_PREFIX:"desktop-configurator-dim-row-"},cssConstants:{BG_COLOR:"background-color",GREEN_BG_COLOR:"#D9EED9",WHITE_BG_COLOR:"white"},loggingConstants:{ATTRIBUTION:"TwisterPlusDesktopConfigurator",ERROR:"ERROR"}}});"use strict";A.when("A").register("desktop-configurator-logger",function(b){function n(){if(!(this instanceof n))return new n;m||(m=this);return m}var u=b.$,m,f=D.ue;n.prototype={registerTwisterCore:function(b){this.twisterCore=b},logCSMDataOnLanding:function(){var b=
0,m=0,n=0,w=this.twisterCore.util,k=w.tvm.dimensionInfo,v=this.twisterCore.state().length,z=Object.keys(w.tvm.dimCombinations).length;u.each(k,function(p,g){p=g.dimKey;w.isRequiredDim(p)&&n++;w.isSingletonDim(p)?m++:b++});f&&f.count&&(f.count("dpMobileTwisterDropdownPresent",b),f.count("dpMbileTwisterSingletonDim",m),f.count("dpMobileTwisterRequiredDim",n),f.count("dpMobileTwisterDimSize",v),f.count("dpMobileTwisterFamilySize",z),f.count("twisterPlus.inlineTwisterGV",1))},logCSMTagsOnLanding:function(f){function m(a,
c,d){var g=[];if(c===d)g.push(""),a=a[c],b.$.isArray(a)?b.each(a,function(a,c){g.push(a)}):g.push(a);else{var f=Math.floor((c+d)/2);c=m.call(this,a,c,f);var p=m.call(this,a,f+1,d);b.each(c,function(a,c){b.each(p,function(c,d){g.push(""===a?c:""===c?a:a+":"+c)})})}return g}function n(a){a&&k.push(a)}var u=this,k=[],v=!0,z=!0,p=[0,3,8,25,50,100,1E3,5E3],g=Object.keys(this.twisterCore.util.tvm.dimCombinations).length,a,c;f.dimensionList&&(a="variation_dimension:"+f.dimensionList.length,b.each(f.dimensionList,
function(a,c){u.addCSMTag(a)}));for(var d=1;d<p.length;d++)if(g<=p[d]){c="family_size_bucket:"+p[d-1]+"-"+p[d];break}else d===p.length-1&&(c="family_size_bucket:gt"+p[d]);f.dimensionInfo&&b.each(f.dimensionInfo,function(a,c){a.isSingleton||(v=!1)});p=v?"SingletonFamily":"DesktopConfigurator";f.initDimCombination&&b.each(f.initDimCombination,function(a,c){-1===a.val&&(z=!1)});n(a);n(c);n(p);z&&n("defaultSelection");f=m.call(this,k,0,k.length-1);(function(a){var c=this;b.each(a,function(a,d){a&&c.addCSMTag(a)})}).call(this,
f)},createFunctionTimerInstance:function(f){var b=this;return{eventType:f,start:function(){this.startTime=Date.now()},stop:function(){this.startTime&&b.logCounter(this.eventType,Date.now()-this.startTime)}}},addCSMTag:function(f){D.ue&&D.ue.tag&&D.ue.tag(f)},logCounter:function(b,m){f&&f.count&&(m===G?f.count(b,(f.count(b)||0)+1):f.count(b,m))},logBottomSheetPageUpdate:function(b){this.logCounter("twisterPlus.inlineTwisterPageUpdate")},logSelectedSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.selectedSwatchClick")},
logDimensionValueClick:function(){this.logCounter("dpmobiletwisterclickOndimval")},logSecViewTotalCount:function(b){this.logCounter("twisterPlus.inlineTwister.secondaryViewCount."+b)},logSecViewGV:function(b){this.logCounter("twisterPlus.inlineTwister.secondaryViewGV."+b)},logSecViewClosed:function(b){this.logCounter("twisterPlus.inlineTwister.secondaryViewClosed."+b)},logDimensionCollapsed:function(b){this.logCounter("twisterPlus.inlineTwister.dimCollapse."+b)},logDimensionExpanded:function(b){this.logCounter("twisterPlus.inlineTwister.dimExpand."+
b)},logSecViewSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.secViewSwatchClick")},logDimExpansionAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimExpansionAfterAutoUpdate")},logDimValueClickAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimValueClickAfterAutoUpdate")},logAvailabilitySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.availabilitySlotRender")},logPPUSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.ppuSlotRender")},
logPrimeSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.primeSlotRender")},logPriceSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.priceSlotRender")},logDeliverySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.deliverySlotRender")},logReviewsSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.reviewsSlotRender")}};return n});"use strict";A.when("A").register("twister-dynamic-style",function(b){function n(b,m){this.name=b;this.styleNode;
this.rules=m||[];this.pendingRefresh}var u=b.$,m={};n.prototype={refresh:function(){var b=u("\x3cdiv /\x3e",{html:"\x26shy;\x3cstyle\x3e"+this.rules.join(" ")+"\x3c/style\x3e"});this.styleNode?(this.styleNode.replaceWith(b),delete this.styleNode,this.styleNode=b):(this.styleNode=b,this.styleNode.appendTo("body"))}};return{addCSSRules:function(b,r){m[b]?m[b].rules=r||[]:m[b]=new n(b,r);m[b].refresh()}}});"use strict";A.when("A","desktop-configurator-constants","desktop-configurator-twister-register").register("desktop-configurator-slot-manager",
function(b,n,u){function m(b,g,a,c){this.twisterCore=b;this.batch={};this.currentBatch;this.maxSlotHeight={};this.minSlotHeight={};this.dynamicStyle=g;this.slotIdentifierMap={};this.logger=a;this.auiPriceSize=c&&c.auiPriceSize?c.auiPriceSize:"m";this.currentlyUnavailableMessage=c&&c.stringTranslationMap?c.stringTranslationMap.currentlyUnavailableMessage:"";this.desktopConfiguratorSlotsInMainView=c&&c.desktopConfiguratorSlotsInMainView?c.desktopConfiguratorSlotsInMainView:[]}function f(f,g,a,c,d){var t=
this.batch,l=this;t[f]=t[f]||[];t[f].push(a);clearTimeout(this.currentBatch);this.currentBatch=setTimeout(function(){var a=b.map(l.batch,function(a,c){return c});l.twisterCore.slotsDimSum.get(a,function(a){var e=l.batch[a.ASIN];e&&(v.each(e,function(c,d){d(a)}),delete l.batch[a.ASIN]);k(l.batch)&&(e=Object.keys(l.maxSlotHeight),b.each(e,function(a){c(a,d&&a===g)}))})},0)}function r(b,g,a,c){a[g]=a[g]||{};a[g].uniqueCount=a[g].uniqueCount||0;var d="inline-twister-dimsum-loading-"+g+"-"+a[g].uniqueCount;
a[g].uniqueCount+=1;return{loadingHtm:'\x3cdiv class\x3d"'+d+(b?" loading-indicator-1":"")+(c?" aok-hidden":"")+'"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',promise:function(a,c){var e=v("."+d+":not(.loading-indicator-in-popover)").parent();e.length&&(e.html(a),c(e))}}}function x(b){return b.replace(/\n/g,"").replace(/[\t ]+\</g,"\x3c").replace(/\>[\t ]+\</g,"\x3e\x3c").replace(/\>[\t ]+$/g,"\x3e")}function y(b,g,a){return x(z.default.call(this,b.content.twisterSlotDiv,g,a))}function w(b,g){if(!b||
0===b.length)return g;if(0<b.find(".loading-indicator-1").length)return b[0].scrollHeight;if(0===b.find(".defaultSlotUnavailable").length)return g;b=b[0].scrollHeight;g<b&&(g=b);return g}function k(b){for(var g in b)if(b.hasOwnProperty(g))return!1;return!0}var v=b.$,z={default:function(b,g,a){b=v("\x3cdiv\x3e"+b+"\x3c/div\x3e");var c=b.find(".price_slot_ppu"),d=b.find("#ms3slot"),f=b.find("#twisterAvailability"),l=b.find("#deliveryPromisePrefix"),e=b.find(".variationReviewsSection"),q=a?[]:this.desktopConfiguratorSlotsInMainView,
k=b.find(".twister_swatch_price");f.length&&((k.length||a)&&-1===q.indexOf("twisterAvailability")&&f.parent().addClass("aok-hidden"),f.parent().append("\x3cdiv class\x3d'js-dummy-twister-availability'\x3e\x3c/div\x3e"),f.parent().find(".a-size-medium").removeClass("a-size-medium").addClass("a-size-small"),f.parent().find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-small"),f.parent().find(".a-size-large").removeClass("a-size-large").addClass("a-size-small"),g&&this.logger.logAvailabilitySlotRender());
0<k.length?(-1===q.indexOf("price")&&k.addClass("aok-hidden"),k.addClass("inline-twister-swatch-price"),a=b.find(".a-price"),0<a.length?a[0].dataset&&(a[0].dataset.aSize=this.auiPriceSize):(k.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base").addClass("a-color-base"),k.find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-base").addClass("a-color-base"),k.find(".a-size-large").removeClass("a-size-large").addClass("a-size-base").addClass("a-color-base")),a="a-size-small",
k.find(".olpWrapper").removeClass("a-size-mini a-size-micro a-size-medium a-size-large a-size-base a-color-base").addClass(a),c.length&&(a="twister-plus-inline-twister-ppu a-size-micro",c.removeClass("a-size-mini a-size-small a-size-medium a-size-large a-size-base a-color-base").addClass(a),g&&this.logger.logPPUSlotRender()),g&&this.logger.logPriceSlotRender()):(k=b.find("#sndbox-mobile-twister-price"),0<k.length&&g&&this.logger.logPriceSlotRender());d.length&&(-1===q.indexOf("ms3")&&d.addClass("aok-hidden"),
g&&this.logger.logPrimeSlotRender());0<l.length&&(l.removeClass("a-size-small a-color-secondary").addClass("a-color-base a-size-base"),-1===q.indexOf("deliveryPromise")&&l.parent().addClass("aok-hidden"),l.find("br").remove(),c=l.find("b"),0===c.length&&(c=l.find("span")),c.length&&(d=" "+x(c.text()),c.addClass("aok-hidden"),l.append("\x3cspan\x3e"+d+"\x3c/span\x3e")),g&&this.logger.logDeliverySlotRender());0<e.length&&(e.removeClass("a-spacing-micro a-spacing-top-micro").addClass("a-spacing-none a-spacing-top-none"),
-1===q.indexOf("variationReviews")&&e.addClass("aok-hidden"),g&&this.logger.logReviewsSlotRender());u.executeModifiers(b);return b.html()}};m.prototype={get:function(b,g,a,c,d,t,l){var e=this,q=this.twisterCore.slotsDimSum.get([b]);if(q[b])return y.call(e,q[b].Value,!1,l);var k=r(a,g,e.slotIdentifierMap,l);f.call(this,b,g,function(a){k.promise(y.call(e,a.Value,!0,l),t)},d,c);return k.loadingHtm},setState:function(b,g,a){this.minSlotHeight[g]||(this.minSlotHeight[g]=[]);this.maxSlotHeight[g]||(this.maxSlotHeight[g]=
[]);this.minSlotHeight[g][a]=this.minSlotHeight[g][a]||0;this.minSlotHeight[g][a]=w(b,this.minSlotHeight[g][a]);this.maxSlotHeight[g][a]=this.maxSlotHeight[g][a]||0;var c=this.maxSlotHeight[g];var d=this.maxSlotHeight[g][a];!b||0===b.length||0<b.find(".loading-indicator-1").length||(b=b[0].scrollHeight,d<b&&(d=b));c[a]=d;this.maxSlotHeight[g][a]=this.maxSlotHeight[g][a]>this.minSlotHeight[g][a]?this.maxSlotHeight[g][a]:this.minSlotHeight[g][a]},updateSlotHeight:function(f,g){var a=[],c;b.each(this.maxSlotHeight[f],
function(d,b){g?(a.push("#desktop-configurator-side-sheet #"+f+"dim_list .desktop-configurator-dim-row-"+b+" .dimension-slot-info {height: "+d+"px;}"),c="twister-plus-desktop-configurator-side-sheet-slot-height-"):(a.push("#inline-twister-expander-content-"+f+" .desktop-configurator-dim-row-"+b+" .dimension-slot-info {height: "+d+"px;}"),c="twister-plus-desktop-configurator-slot-height-")});this.dynamicStyle.addCSSRules(c+f,a)},resetMinSlotHeight:function(f){this.minSlotHeight[f]||(this.minSlotHeight[f]=
[]);this.minSlotHeight[f]=b.map(this.minSlotHeight[f],function(){return 0})},resetSlotHeight:function(f,g){this.maxSlotHeight[f]||(this.maxSlotHeight[f]=[]);this.dynamicStyle.addCSSRules((g?"twister-plus-desktop-configurator-side-sheet-slot-height-":"twister-plus-desktop-configurator-slot-height-")+f,[]);this.maxSlotHeight[f]=b.map(this.maxSlotHeight[f],function(){return 0})}};return m});"use strict";A.when("A","desktop-configurator-constants","detail-page-side-sheet").register("desktop-configurator-side-sheet-view",
function(b,n,u){function m(){this.sideSheetData=this.activeDimKey=null;this.swatchList=[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null;this.updateSideSheetStatus={}}function f(){this.sideSheetData=this.activeDimKey=null;this.swatchList=[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null}function r(g,a){b.each(g,function(c){var d="desktop-configurator-swatch-hover:"+a+"_sec";try{b.declarative.remove(c,d),b.declarative.create(c,d,{})}catch(g){A.log("Hover event subscribe failed with error: "+
this.name,p.ERROR,p.ATTRIBUTION)}})}function x(g){g=Array.prototype.slice.call(g);var a=v(g[0]).find("input");g=v(g[g.length-1]).find("input");this.keyDownEventHandler=w.bind(this,a,g);document&&document.addEventListener("keydown",this.keyDownEventHandler);b.delay(function(){a&&a.focus()})}function y(){if(this.mainViewDimContainer){var b=this.mainViewDimContainer.parent().find(".tp-side-sheet-link-container a")[0];document&&document.removeEventListener("keydown",this.keyDownEventHandler);b&&b.focus()}}
function w(b,a,c){c.code&&"tab"===c.code.toLowerCase()&&(c.shiftKey?document&&document.activeElement===b[0]&&(c.preventDefault(),a.focus()):document&&document.activeElement===a[0]&&(c.preventDefault(),b.focus()))}function k(b){var a=v("#desktop-configurator-side-sheet-content-header").clone();a.removeClass("aok-hidden");a.find(".dim-name").text(b.dimensionDisplayText+":");a.find(".dim-value").text(b.displayValueText);var c=b.optionsText;c&&a.find(".dim-options").text(c.replace("###options",b.totalValueCount));
return a}var v=b.$,z=n.sideSheetSelectors,p=n.loggingConstants;m.prototype={init:function(g){var a=this,c=v("#twister-plus-inline-twister-container");0!==c.length&&(c=c[0].getBoundingClientRect().width,this.scrollbarWidth=this.getScrollbarWidth(),this.sideSheet=new u({id:"desktop-configurator-side-sheet",shouldRenderHTMLString:!0,animationDuration:n.SIDE_SHEET_ANIMATION_SPEED,width:c+n.SIDE_SHEET_PADDING+a.scrollbarWidth,onAfterHide:function(){g.logSecViewClosed(a.activeDimKey);b.each(a.swatchList,
function(c){var g=parseInt(c.getAttribute("data-idxInToggleSwatchList"),10),g=a.sideSheetData.getSwatchInfo(g);b.declarative.remove(c,"desktop-configurator-swatch-hover:"+a.activeDimKey+"_sec");a.sideSheetData.destroyPopover(g.id+"_sec")});y.call(a);a.updateSideSheetStatus[a.activeDimKey]&&a.updateSideSheetStatus[a.activeDimKey](a.activeDimKey,!1);f.call(a)}}))},open:function(g){this.activeDimKey=g.dimKey;this.sideSheetData=g;var a=v("#inline-twister-row-"+g.dimKey+" #tp-inline-twister-dim-values-container"),
c=a.find(".desktop-configurator-dim-row-0"),d=v("#side-sheet-loader-container").clone().removeClass("aok-hidden"),f=d.find(".loader-container"),l=d.find("#side-sheet-loader").clone().removeClass("aok-hidden"),e;if(g.isTextSwatch)a=c.width()-n.BORDER_WIDTH,e=c.height()-n.BORDER_WIDTH;else{var q=a.find(".inline-twister-swatch").not(".aok-hidden").not(".swatch-prototype");e=c.find(".swatch-image-container");a=e.outerWidth();e=e.outerHeight();q=Math.abs((q.width()-c.find(".swatch-image-container").outerWidth())/
2)-n.BORDER_WIDTH;l.css("margin-right",q+"px");l.css("margin-left",q+"px")}l.width(a);l.height(e);b.each(c,function(){f.append(l.clone().addClass("side-sheet-loader-1"))});c=f.clone();c.find(".side-sheet-loader-1").removeClass("side-sheet-loader-1").addClass("side-sheet-loader-2");d.append(c);g=k(g);d.prepend(g);this.sideSheet.open(d[0].outerHTML)},update:function(b){this.mainViewDimContainer=v("#inline-twister-row-"+b.dimKey+" #tp-inline-twister-dim-values-container");var a=this.mainViewDimContainer.clone(),
c=a.find(z.DIMENSION_VALUES_LIST);c.attr("id",b.dimKey+"dim_list");var d=k(b);a.prepend(d);c.children().slice(1).removeClass("aok-hidden");c.attr("data-a-button-group",'{"name":"sec_'+b.dimKey+'"}');this.sideSheet.updateContent(a[0].outerHTML);b=this.sideSheet.container;this.swatchList=b.find(z.DIMENSION_VALUES_LIST).children().slice(1);r(this.swatchList,this.activeDimKey);this.dimValContainer=b.find(".desktop-configurator-side-sheet-content-header .dim-value");x.call(this,this.swatchList)},close:function(){this.sideSheet.close()},
registerToggleButtonGroup:function(g,a,c){var d=z.SEC_VIEW_TOGGLE_BUTTON_PREFIX+g,f=this;this.updateSideSheetStatus[g]=c;b.on("a:button-group:"+d+":toggle",function(c){f.sideSheet.close();c.selectedButton.buttonGroupName=g;a(c.selectedButton,g)})},updateDimVal:function(b){this.dimValContainer.length&&this.dimValContainer.text(b.subText)},refreshWidth:function(){var b=v("#twister-plus-inline-twister-container")[0].getBoundingClientRect().width+this.scrollbarWidth;this.sideSheet.updateWidth(b+n.SIDE_SHEET_PADDING)},
getScrollbarWidth:function(){if(this.scrollbarWidth)return this.scrollbarWidth;var b=document.body?D.innerWidth-document.body.clientWidth:-1;0>b&&(b=n.DEFAULT_SCROLLER_WIDTH);return b}};return m});"use strict";A.when("A","a-popover","desktop-configurator-constants").register("desktop-configurator-popover-factory",function(b,n,u){function m(a){var c=w("\x3cdiv /\x3e"),d=w("\x3cspan /\x3e"),b=a.title,g=a.isImageSwatch,t=!a.hideSlots;c.addClass("desktop-configurator-popover-content");d.addClass("desktop-configurator-title-block a-size-base a-color-base a-text-bold");
d.text(b);c.append(d);g&&(d=w("\x3cdiv /\x3e"),g=w("\x3cimg /\x3e"),g.attr("src",a.image),g.attr("data-a-image-source",a.image),g.attr("alt",b),d.append(g),c.addClass("visual-dimension"),d.addClass("desktop-configurator-image-block"),c.prepend(d));t&&f(c,a.slotNode);return c}function f(a,c){c="string"===typeof c?c:c.clone();var d=w("\x3cdiv /\x3e");a.find(".desktop-configurator-slot-block").remove();d.addClass("desktop-configurator-slot-block");d.html(c);r(d);a.append(d)}function r(a){var e=a.find(".price_slot_ppu"),
f=a.find("#ms3slot"),g=a.find(".twister_swatch_price"),k=a.find("#twisterAvailability"),m=a.find("#deliveryPromisePrefix"),n=a.find(".variationReviewsSection"),p=a.find(".default-slot-unavailable");a=a.find(".loading-indicator-1");var r={variationReviews:n,price:g,ms3:f,twisterAvailability:k.parent(),deliveryPromise:m.parent(),ppu:e};a.length&&(a.addClass("loading-indicator-in-popover"),0===c.length?a.addClass("aok-hidden"):a.removeClass("aok-hidden"));b.each(d,function(a){r[a]&&(-1===c.indexOf(a)?
r[a].addClass("aok-hidden"):(r[a].removeClass("aok-hidden"),a=t[a+"_styleSlot"],"function"===typeof a&&a.call(this,r)))});p.length&&p.removeClass("a-size-small").addClass("a-size-base")}function x(a,c,d,f){d=m({slotNode:d.slotNode,title:d.title,isImageSwatch:d.isImageSwatch,image:d.image,hideSlots:f});c=n.create(c,{name:a,inlineContent:d,closeButton:!1,padding:"none",activate:"none",restoreFocusOnHide:!1});k[a]=c;v[a]||(b.on("a:popover:afterShow:"+a,function(a){b.delay(function(){w(p.DIMENSION_VALUES_LIST).removeClass("stop-scrolling-dc")})}),
v[a]=!0);return c}function y(a,c,d){if(a=k[a])c=m({slotNode:c.slotNode,title:c.title,isImageSwatch:c.isImageSwatch,image:c.image,hideSlots:d}),a.update({content:c});return a}var w=b.$,k={},v={},z=u.POPOVER_DELAY,p=u.sideSheetSelectors,g=null,a=null,c=[],d=u.CONFIGURED_SLOTS,t={price_styleSlot:function(a){var c=a.ms3,d=a.ppu;a=a.price;a.length&&(a.find(".a-size-base").removeClass("a-size-base").addClass("a-size-large"),d.length&&d.removeClass("a-size-micro").addClass("a-size-small"),c.length&&(d=a.find(".twisterSwatchPrice"),
d.length&&d.after(c),c.after("\x3cbr /\x3e")))},ms3_styleSlot:function(a){a=a.ms3;a.length&&a.find(".a-icon-mini").removeClass("a-icon-mini").addClass("a-icon-small")},twisterAvailability_styleSlot:function(a){a=a.twisterAvailability;a.length&&a.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base")}};return{show:function(c,d,f,t){g=this.exists(c)?y.call(this,c,f,t):x.call(this,c,d,f,t);clearTimeout(a);var k=this;a=b.delay(function(){w(p.DIMENSION_VALUES_LIST).addClass("stop-scrolling-dc");
g&&g.show();k.updateIfCurrentlyActive(c,f.slotNode)},z)},exists:function(a){return!!k[a]},hide:function(c){(c=k[c])&&c.hide();g=null;clearTimeout(a)},updateIfCurrentlyActive:function(a,c){g&&g.$container&&g.attributes.name===a&&(a=g.$container.find(".desktop-configurator-popover-content"),f(a,c))},destroy:function(c){k[c]&&n.remove(c);delete k[c];clearTimeout(a)},setVisibleSlotConfig:function(a){c=a}}});"use strict";A.when("A").register("desktop-configurator-twister-register",function(){var b=[];
return{registerModifier:function(n){b.push(n)},executeModifiers:function(n){b.forEach(function(b){b.modify&&"function"===typeof b.modify&&b.modify(n)})}}});"use strict";A.when("A","desktop-configurator-constants").register("desktop-configurator-widgets-factory",function(b,n){var u=b.$,m=n.widgetSelectors,f=n.classes,r=n.cssConstants,x=n.loggingConstants,y=function(){function f(){var a=u(m.IMAGE_THUMBNAIL).attr("src");return a&&a.length&&(a=a.split("."),2<a.length)?a[a.length-2]:!1}function g(a,c,
d,b){b=b&&0<b.length?b:a.find(".a-button");c&&!d?(b.addClass("text-swatch-button-with-slots").removeClass("text-swatch-button"),a.find("hr").show(),a.find("hr").removeClass("aok-hidden")):(b.removeClass("text-swatch-button-with-slots").addClass("text-swatch-button"),a.find("hr").hide(),a.find("hr").addClass("aok-hidden"))}return{alignTextSwatches:function(a,c,d){var f=0,g,e;b.each(a,function(a){a.domNode&&(a.isVisible||c||d)&&(g=a.domNode.attr("data-idxInToggleSwatchList"),e=d?u("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+
g+"]"):a.domNode,a=e.find(".swatch-title-text-display"),a.length&&a[0].style.removeProperty("height"),a=a?a.height():0,f<a&&(f=a))});b.each(a,function(a){a.domNode&&(a.isVisible||c||d)&&(g=a.domNode.attr("data-idxInToggleSwatchList"),e=d?u("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+g+"]"):a.domNode,e.find(".swatch-title-text-display").height(f))})},createSwatch:function(a,c,d,b,f,e,q){var k=!c.unavailable,m=c.isVisible,n=c.selected,r=c.showSlot,p=c.slotHtm;d="#"+d;
if(e.length)return e=e.clone(),e.removeClass("swatch-prototype"),f&&e.addClass("slots-hidden"),e.attr("data-idxInToggleSwatchList",b),b=e.find(d).attr("id",c.id),e.find(d+"-announce").attr("id",c.id+"-announce"),e.find("input").attr({name:c.name,"aria-labelledby":c.id+"-announce"}),e.find("text"===a?".swatch-title-text-display":"square_image"===a?".swatch-title-text":".swatch-text").text(c.text),k||b.addClass("a-button-unavailable"),n&&b.addClass("a-button-selected"),"text"!==a&&(n=e.find(".swatch-image"),
n.addClass("inline-twister-manual-load"),n.attr({"data-a-image-source":c.image||"",id:"inline-twister-image-"+c.name,alt:c.text})),n=e.find(".dimension-slot-info"),n.length&&(n.attr("id","dimension-slot-info-"+c.name),r?k?0<p.length&&n.html(p):n.html(c.defaultSlotUnavailable):e.find("text"===a?".slots-padding":".dimension-slot-info").addClass("aok-hidden"),"text"===a&&g(e,r,f,b)),q.append(e),m||e.addClass("aok-hidden"),e},getThumbnailImageUrlForPhysicalId:function(a){return a&&a.length&&(a=a.split("."),
2<a.length)?(a.splice(-2,1,f()),a.join(".")):!1},updateSlotSectionInTextSwatch:g}}(),w=function(k){function g(a,c,d,b,f,e,g,m){this.id=a.id;this.unavailable=!!a.unavailable;this.selected=!!a.selected;this.showSlot=a.showSlot;this.slotHtm=a.slotHtm;this.isImageSwatch=!c;this.asin=a.asin;this.pageUrl=a.pageUrl;this.hideSlotsFromMainView=f;var n=c?"text":a.isCirclularImageSwatch?"circular_image":"square_image";this.domNode=m?u(m):k.createSwatch(n,a,d,b,f,e,g);this.isVisible=a.isVisible;this.imageUrl=
a.image;this.popoverImage=a.popoverImage;this.isSlotVisible=!0;this.slotNodeIdentifier=c?".slots-padding":".dimension-slot-info";this.title=a.text;this.name=a.name;this.subscribeToHoverEvent(d)}g.prototype={setState:function(a,c,d,b){this.selected=!!a.selected;this.updateAvailablity(a);this.updateSlotNode(a,c,d);this.updateVisibility(a);this.updateSwatchIndexInDomNode(b);return this},getSlotNode:function(a){this.slotNode||(this.slotNode=this.domNode.find(m.SLOT_NODE_SELECTOR));if(!a)return this.slotNode;
a=this.slotNode?this.slotNode.attr("id"):"";return u("#desktop-configurator-side-sheet").find("#"+a)},updateSlotNode:function(a,c,d){this.slotNode||(this.slotNode=this.domNode.find(m.SLOT_NODE_SELECTOR));this.showSlot!==a.showSlot&&((this.showSlot=a.showSlot)?this.domNode.find(this.slotNodeIdentifier).removeClass("aok-hidden"):this.domNode.find(this.slotNodeIdentifier).addClass("aok-hidden"),this.isImageSwatch||k.updateSlotSectionInTextSwatch(this.domNode,this.showSlot,this.hideSlotsFromMainView));
this.slotHtm!==a.slotHtm&&(c&&u("#tp-inline-twister-sec-view-"+d+" #"+this.slotNode.attr("id")).html(a.slotHtm),this.slotNode.html(a.slotHtm),this.slotHtm=a.slotHtm)},updateAvailablity:function(a){this.toggleButton||(this.toggleButton=this.domNode.find(m.TOGGLE_BUTTON_SELECTOR));(this.unavailable=a.unavailable)?this.toggleButton.addClass(f.A_BUTTON_UNAVAILABLE):this.toggleButton.removeClass(f.A_BUTTON_UNAVAILABLE)},updateSelection:function(){this.toggleButton||(this.toggleButton=this.domNode.find(m.TOGGLE_BUTTON_SELECTOR));
this.selected?(this.toggleButton.addClass(f.A_BUTTON_SELECTED),this.toggleButton.removeClass(f.A_BUTTON_UNAVAILABLE)):(this.toggleButton.removeClass(f.A_BUTTON_SELECTED),this.toggleButton.removeClass(f.A_BUTTON_FOCUS))},updateVisibility:function(a){a.isVisible?this.domNode.removeClass(f.AOK_HIDDEN):this.domNode.addClass(f.AOK_HIDDEN);this.isVisible=a.isVisible},subscribeToHoverEvent:function(a){a="desktop-configurator-swatch-hover:"+a;try{b.declarative.remove(this.domNode,a),b.declarative.create(this.domNode,
a,{})}catch(c){A.log("Hover event subscribe failed with error: "+this.name,x.ERROR,x.ATTRIBUTION)}},updateSwatchIndexInDomNode:function(a){this.domNode&&this.domNode.attr("data-idxInToggleSwatchList",a)},getTopPosition:function(){var a=this.domNode.position();return this.topPosition=a?a.top:0}};return g}(y),k=function(k,g){function a(a,d,f,g){var e=this;this.isTextSwatch=a.isTextSwatch;this.name=a.name;this.domNode=u(m.EXPANDER_CONTENT_PREFIX+a.name);this.title=g;this.selectedSwatch=null;this.swatches=
{};this.orderedSwatchList=[];this.initialVisibleSwatchList={};this.swatchIdxOrder=[];this.isPageRefreshActive=!1;this.totalSwatchCount=a.totalSwatchCount||0;this.onChange=a.onChange;this.hoverHandler=a.onHover;this.isUserInteracting=!1;this.autoNotificationCallback=d.autoNotificationCallback;this.rowContainer=f;this.swatchListContainer=this.domNode.find(m.DIMENSION_VALUES_LIST);this.markAutoUpdated=!1;this.hideSlotsFromMainView=a.hideSlotsFromMainView;this.windowResizeCallback=d.windowResizeCallback;
this.displaySwatches=[];this.numberOfSwatchesPerRow=0;this.swatchPrototypeNode=u("#"+a.name).closest(m.SWATCH_NODE_SELECTOR);this.swatchPrototypeNodeParent=this.swatchPrototypeNode.parent();b.on("a:button-group:"+this.name+":toggle",function(a){var c=parseInt(a.selectedButton.buttonName,10),d=e.swatches[c];d?e.isPageRefreshActive?(e.isUserInteracting=!0,c=d.unavailable,d.updateSelection(),e.autoNotificationCallback&&e.autoNotificationCallback(c,!0),e.onChange&&e.onChange(e.swatches,a.selectedButton,
e.markAutoUpdated),e.setAutoUpdated(!1)):d.pageUrl&&(D.location.href=d.pageUrl):(a="Selected swatch not found on toggle button click. Value clicked: "+c+" ; Swatch length: "+Object.keys(e.swatches).length,A.log(a,x.ERROR,x.ATTRIBUTION))});this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+a.name);this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+a.name+"_sec",!0);if(this.isTextSwatch)b.on("resize",function(){0<e.displaySwatches.length&&(e.repopulateDisplaySwatches(),
e.alignTextSwatches(),"function"===typeof e.windowResizeCallback&&e.windowResizeCallback(e.name))})}a.prototype={setState:function(a,d,f,l){var e=this,k,m=[],n=[],r=[];b.objectIsEmpty(d)||(b.each(d,function(d,b){if(!e.swatches[b]&&(a.swatches[b].isVisible||f)){var l=new g(a.swatches[b],e.isTextSwatch,e.name,b,e.hideSlotsFromMainView,e.swatchPrototypeNode,e.swatchPrototypeNodeParent);l.subscribeToHoverEvent(e.name);e.swatches[b]=l;!e.isTextSwatch&&e.swatches[b]&&e.swatches[b].domNode&&r.push(e.swatches[b].domNode.find(".inline-twister-manual-load")[0])}n[d]=
b}),this.swatchIdxOrder=n,l||(this.resetToggleSwatchContainer(),this.displaySwatches=[]),b.each(this.swatchIdxOrder,function(a,c){if(a=e.swatches[a])a&&e.swatchListContainer.append(a.domNode),a&&a.subscribeToHoverEvent(e.name),e.addToDisplaySwatches(a,e.displaySwatches)}));b.each(a.swatches,function(a,c){if(e.swatches[c])k=a.selected?e.swatches[c]:k,e.swatches[c].selected=!!a.selected,m.push({index:c,data:a});else{if(a.isVisible||f)e.swatches[c]=new g(a,e.isTextSwatch,e.name,c,e.hideSlotsFromMainView,
e.swatchPrototypeNode,e.swatchPrototypeNodeParent),e.swatches[c].subscribeToHoverEvent(e.name),e.addToDisplaySwatches(e.swatches[c],e.displaySwatches),!e.isTextSwatch&&e.swatches[c]&&e.swatches[c].domNode&&r.push(e.swatches[c].domNode.find(".inline-twister-manual-load")[0]);a.selected&&(k=e.swatches[c])}});this.selectedSwatch&&this.selectedSwatch.updateSelection();k&&k.updateSelection();b.each(m,function(a,c){e.swatches[a.index].setState(a.data,f,e.name,a.index)});!b.objectIsEmpty(d)&&this.isTextSwatch&&
this.alignTextSwatches();e.selectedSwatch&&k&&e.selectedSwatch!==k&&!e.isUserInteracting&&e.autoNotificationCallback(!0);e.selectedSwatch=k;e.isUserInteracting=!1;r.length&&b.loadImageManually(r);return this},getSlotNodes:function(a){return b.map(this.displaySwatches,function(d){return b.map(d,function(d){return d.getSlotNode(a)})})},setUserInteracting:function(a){this.isUserInteracting=a},alignTextSwatches:function(a,d){b.each(this.displaySwatches,function(b){k.alignTextSwatches(b,a,d)})},resetToggleSwatchContainer:function(){var a=
u(this.domNode.find(".a-button-list").children()[0]);this.swatchListContainer.html("");this.swatchListContainer.append(a)},getVisibleSwatchesSize:function(){var a=0;b.each(this.swatches,function(d,b){d.isVisible&&(a+=1)});return a},setAutoUpdated:function(a){this.markAutoUpdated=a},getInitialVisibleSwatchList:function(){return this.initialVisibleSwatchList},getNumberOfSwatchesPerRow:function(){return this.numberOfSwatchesPerRow},setNumberOfSwatchesPerRow:function(a){a&&(this.numberOfSwatchesPerRow=
a)},createSwatch:function(a,d){d=new g(a,this.isTextSwatch,this.name,a.name,this.hideSlotsFromMainView,this.swatchPrototypeNode,this.swatchPrototypeNodeParent,d);this.swatches[a.name]=d;this.initialVisibleSwatchList[a.name]=d;this.selectedSwatch=a.selected?d:this.selectedSwatch;this.orderedSwatchList.push(d);return d},activatePageRefresh:function(){this.isPageRefreshActive=!0;this.domNode.find(".page-load-link").remove()},getSwatch:function(a){return this.swatches[a]?this.swatches[a]:{}},registerHoverDeclarative:function(a,
d){var f=this;b.declarative(a,"mouseenter mouseleave",function(a){var c=a.$currentTarget[0].getAttribute("data-idxInToggleSwatchList"),c=f.getSwatch(c);a.data={slotNode:a.$currentTarget.find(c.slotNodeIdentifier),isImageSwatch:c.isImageSwatch,unavailable:c.unavailable,showSlot:c.showSlot,selected:c.selected,title:c.title,name:c.name,id:d?c.id+"_sec":c.id,image:c.popoverImage};f.hoverHandler(f.name,a)})},addToDisplaySwatches:function(a,d){var b=f.ROW_IDENTIFIER_PREFIX;if(0===d.length)d.push([a]);else{var g=
d[d.length-1];g&&g.length===this.numberOfSwatchesPerRow?d.push([a]):g.push(a)}this.removeSwatchRowIdentifier(a);a.domNode&&a.domNode.addClass(b+(d.length-1).toString())},adjustSwatchWidthAndSpacing:function(){var a=this.getNumberOfSwatchesPerRow();if(this.totalSwatchCount>a){var d=this.displaySwatches[0][0].domNode,a=this.domNode.find(".a-button"),b=this.domNode[0].getBoundingClientRect().width-1,d=d.width(),f=this.getNumberOfSwatchesPerRow(),b=b-(d*f+(this.isTextSwatch?n.TEXT_SWATCH_MARGIN_RIGHT:
0)*f);0<b&&(b=parseFloat(b/f),a.width(d+b))}},repopulateDisplaySwatches:function(){if(0!==this.displaySwatches.length){var a=[],d=0,g,l=this;b.each(this.displaySwatches,function(e,k){b.each(e,function(b,e){0===a.length?a.push([b]):0===d?(g=a[0][a[0].length-1],b.getTopPosition()!==g.getTopPosition()?(d=a[0].length,l.numberOfSwatchesPerRow=d,l.addToDisplaySwatches(b,a)):(a[0].push(b),l.removeSwatchRowIdentifier(b),b.domNode&&b.domNode.addClass(f.ROW_IDENTIFIER_PREFIX+(0).toString()))):l.addToDisplaySwatches(b,
a)})});0===d&&(this.numberOfSwatchesPerRow=d=a[0].length);this.displaySwatches=a}},removeSwatchRowIdentifier:function(a){a.domNode&&a.domNode.removeClass(function(a,c){return(c.match(/(^|\s)desktop-configurator-dim-row-\S+/g)||[]).join(" ")})},createDisplaySwatches:function(){var a=this;b.each(this.orderedSwatchList,function(d){a.addToDisplaySwatches(d,a.displaySwatches)})},removeMisplacedSwatch:function(){var a=this.displaySwatches[this.displaySwatches.length-1],a=a[a.length-1],d=a.name;a.domNode&&
a.domNode.remove();delete this.swatches[d];this.selectedSwatch&&this.selectedSwatch.name===d&&(this.selectedSwatch=null);this.displaySwatches.pop()},removeInitiallyHiddenSwatches:function(){for(var a=this.domNode.find(".inline-twister-swatch.aok-hidden:not(.swatch-prototype)"),d=a.length-1;0<=d;d--){var b=a[d];b.parentNode.removeChild(b)}}};return a}(y,w),v=function(f){function g(a){this.mainText=a.mainText;this.subText=a.subText;this.dimKey=a.dimKey;this.titleSelectorPrefix=a.titleSelectorPrefix;
this.titleValueSelector=a.titleValueSelector;this.domNode=u("#"+this.titleSelectorPrefix+this.dimKey)}g.prototype={refresh:function(){this.domNode.find("."+this.titleValueSelector).text(this.subText);this.domNode.removeClass("twister-plus-inline-twister-dim-required twister-plus-inline-twister-dim-required-delay")},setState:function(a){return b.equals(a,u.extend({},this))?this:(u.extend(this,a),this.refresh())},getData:function(){return{mainText:this.mainText,subText:this.subText}}};return g}(y),
z=function(k,g,a){function c(a,c,k,e,q){function n(){v=v||p.domNode.find(".dimension-heading");v.css(r.BG_COLOR,r.GREEN_BG_COLOR);b.delay(function(){b.animate(v,{"background-color":r.WHITE_BG_COLOR},200)},1E3)}var p=this;this.disableCollapseFunctionality=k.inlineTwisterData?k.inlineTwisterData.disableCollapseFunctionality:!1;this.stringTranslationMap=k.inlineTwisterData?k.inlineTwisterData.stringTranslationMap:{};this.title=c?new g(c):null;this.dimKey=k.dimKey;this.domNode=u("#"+a+this.dimKey);this.showSlot=
k.showSlot;this.logger=q;this.isTwisterCoreInitialized=this.isInlineExpanded=this.markAutoUpdated=!1;this.expanderContent=p.domNode.find(m.EXPANDER_CONTENT_PREFIX+this.dimKey);this.expanderHeader=p.domNode.find(m.EXPANDER_HEADER_PREFIX+this.dimKey);this.icon=p.domNode.find(m.DIMENSION_EXPANDER_ICON_PREFIX+this.dimKey);this.expandedText=p.domNode.find(m.EXPANDED_DIMENSION_TEXT_PREFIX+this.dimKey);this.collapsedText=p.domNode.find(m.COLLAPSED_DIMENSION_TEXT_PREFIX+this.dimKey);this.rowCallbacks=e;this.autoNotificationExpanded=
p.domNode.find(m.AUTO_NOTIFICATION_EXPANDED);this.autoNotificationExpandedText=p.autoNotificationExpanded.text();this.imageThumbnail=p.domNode.find(m.IMAGE_THUMBNAIL);this.sideSheetLink=this.domNode.find(".tp-side-sheet-link-container");this.inlineExpansionLink=this.domNode.find(".tp-inline-expansion-link");this.isExpanded=this.expanderContent.hasClass("dimension-expander-content-expand");var v;this.autoNotificationCallback=function(a,c){var d=p.autoNotificationExpandedText;a?p.isExpanded&&c?(p.autoNotificationExpanded.find("."+
f.A_COLOR_ATTAINABLE).html(d),p.autoNotificationExpanded.removeClass(f.AOK_HIDDEN)):(n(),p.setAutoUpdated(!0)):p.hideAutoNotification()};this.disableCollapseFunctionality||b.declarative("toggle-dimension-expander-"+this.dimKey,"click",function(a){p.isExpanded?p.collapse():p.expand();p.hideAutoNotification()})}c.prototype={setState:function(a,c,b,e,g,k){this.toggleSwatch&&b!==this.dimKey&&this.autoNotificationExpanded.addClass(f.AOK_HIDDEN);a&&this.toggleSwatch&&this.toggleSwatch.setState(a,c,g,k);
g||e&&this.title&&this.title.setState(e)},expand:function(){this.expanderContent&&this.expanderContent.css("visibility","");this.expanderContent&&this.expanderContent.addClass(f.DIMENSION_EXPANDER_CONTENT_EXPAND);this.icon&&this.icon.addClass(f.ROTATE);this.expandedText&&this.expandedText.removeClass(f.AOK_HIDDEN);this.collapsedText&&this.collapsedText.addClass(f.AOK_HIDDEN);this.imageThumbnail.addClass(f.AOK_HIDDEN);this.isExpanded=!0;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&
this.isTwisterCoreInitialized&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!0);if(this.expanderHeader){var a=this.stringTranslationMap?this.stringTranslationMap.expanderHeaderAriaLabel:"",c=this.title.getData(),a=a.replace("###dimension",c.mainText).replace("###value",c.subText),a=a+" "+(this.stringTranslationMap?this.stringTranslationMap.tapToCollapse:"");this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(m.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)}this.markAutoUpdated&&
(this.logger.logDimExpansionAfterAutoUpdate(),this.markAutoUpdated=!1)},collapse:function(){this.expanderContent&&this.expanderContent.removeClass(f.DIMENSION_EXPANDER_CONTENT_EXPAND);this.expanderContent&&this.expanderContent.css("visibility","hidden");this.icon&&this.icon.removeClass(f.ROTATE);this.expandedText&&this.expandedText.addClass(f.AOK_HIDDEN);this.collapsedText&&this.collapsedText.removeClass(f.AOK_HIDDEN);this.imageThumbnail.removeClass(f.AOK_HIDDEN);this.isExpanded=!1;var a={dimKey:this.dimKey};
"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.isTwisterCoreInitialized&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!1);this.autoNotificationExpanded.addClass(f.AOK_HIDDEN);if(this.expanderHeader){var a=this.stringTranslationMap?this.stringTranslationMap.expanderHeaderAriaLabel:"",c=this.title.getData(),a=a.replace("###dimension",c.mainText).replace("###value",c.subText),a=a+" "+(this.stringTranslationMap?this.stringTranslationMap.tapToExpand:"");this.expanderHeader.attr("aria-label",
a);this.expanderHeader.find(m.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)}},setUserInteracting:function(a){this.toggleSwatch&&this.toggleSwatch.setUserInteracting(a)},setExpanderHeaderAriaLabel:function(a,c){a=this.expanderHeader.attr("aria-label").replace(a.subText,c.subText);this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(m.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)},setThumbnailImage:function(a){(a=k.getThumbnailImageUrlForPhysicalId(a))&&this.imageThumbnail.attr("src",
a)},setAutoUpdated:function(a){this.markAutoUpdated=a;this.toggleSwatch&&this.toggleSwatch.setAutoUpdated(a)},getInitialVisibleSwatchList:function(){return this.toggleSwatch?this.toggleSwatch.getInitialVisibleSwatchList():{}},getSwatch:function(a){return this.toggleSwatch?this.toggleSwatch.getSwatch(a):{}},activatePageRefresh:function(){this.toggleSwatch&&this.toggleSwatch.activatePageRefresh()},showInlineExpansionLink:function(){this.inlineExpansionLink.removeClass("aok-hidden")},hideInlineExpansionLink:function(){this.inlineExpansionLink.addClass("aok-hidden")},
showSideSheetLink:function(){this.sideSheetLink.removeClass("aok-hidden")},hideSideSheetLink:function(){this.sideSheetLink.addClass("aok-hidden")},setMaxHeight:function(a){this.expanderContent.css("max-height",a)},triggerExpandOrCollapseAnimation:function(a,c,b){var e=this;this.expanderContent.animate({"max-height":a+"px"},c,function(){e.setMaxHeight("");b&&b()})},getDisplaySwatches:function(){return this.toggleSwatch?this.toggleSwatch.displaySwatches:[]},createDisplaySwatches:function(){this.toggleSwatch&&
this.toggleSwatch.createDisplaySwatches()},adjustSwatchWidthAndSpacing:function(){this.toggleSwatch&&this.toggleSwatch.adjustSwatchWidthAndSpacing()},hideAutoNotification:function(){this.autoNotificationExpanded.addClass(f.AOK_HIDDEN)},initializeComponents:function(c,f,g){if(!this.toggleSwatch&&c){var e=this.title.getData();this.toggleSwatch=new a(c,{windowResizeCallback:g.handleWindowResize,autoNotificationCallback:this.autoNotificationCallback},this.domNode,e.mainText)}this.isTextSwatch=c?c.isTextSwatch:
!0;this.rowCallbacks=b.extend(this.rowCallbacks,g);this.totalSwatchCount=c?c.totalSwatchCount:0;this.showSlot=f;var k=this;b.declarative("open-desktop-configurator-side-sheet:"+this.dimKey,"click",function(){"function"===typeof k.rowCallbacks.showSideSheet&&k.isTwisterCoreInitialized&&(k.rowCallbacks.showSideSheet(k.dimKey,k.showSlot,k.title.getData()),k.hideAutoNotification())});b.on("a:expander:desktop-configurator-inline-expansion:"+this.dimKey+":toggle:expand",function(){"function"===typeof k.rowCallbacks.toggleInlineExpansion&&
(k.rowCallbacks.toggleInlineExpansion(k.dimKey,k.showSlot,!0),k.hideAutoNotification(),k.isInlineExpanded=!0)});b.on("a:expander:desktop-configurator-inline-expansion:"+this.dimKey+":toggle:collapse",function(){"function"===typeof k.rowCallbacks.toggleInlineExpansion&&(k.rowCallbacks.toggleInlineExpansion(k.dimKey,k.showSlot,!1),k.hideAutoNotification(),k.isInlineExpanded=!1)})},postInitialize:function(){this.isTwisterCoreInitialized=!0;var a={dimKey:this.dimKey};this.toggleSwatch&&this.toggleSwatch.removeInitiallyHiddenSwatches();
this.isExpanded&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!0)},handleSeeMoreIngress:function(a){var c=(this.toggleSwatch?this.toggleSwatch.getNumberOfSwatchesPerRow():0)*n.MAX_INLINE_ROWS;a<this.totalSwatchCount&&c>=this.totalSwatchCount&&(this.hideSideSheetLink(),this.showInlineExpansionLink())}};return c}(y,v,k);return{Swatch:w,ToggleSwatch:k,Title:v,Row:z,utils:y}});"use strict";A.when("A","detail-page-side-sheet-handlers").register("detail-page-side-sheet",function(b,n){function u(b){var m=
b.id&&"string"===typeof b.id,r=1===y("#"+b.id).length;if(m&&r)this.id=b.id,this.shouldRenderHTMLString=!!b.shouldRenderHTMLString,this.animationDuration=b.animationDuration||300,this.container=n.getContainer(b.id),this.onBeforeShow=b.onBeforeShow,this.onAfterHide=b.onAfterHide,m=b.width||580,(r=this.container)&&r.width(m),x(b.id,m),f.call(this);else throw b="Side sheet initialisation failed: "+(m?"Side sheet not present in DOM, or multiple instances of side sheet ID "+b.id+" exist":"Invalid Side sheet ID"),
A.log(b,"ERROR","DetailPageSideSheet"),b;}function m(b){var f=this.container;b=this.shouldRenderHTMLString?y(b):y(b).clone();f.html(b);b.css("display","block");f.removeClass("aok-hidden")}function f(){var f=this;b.declarative("close-detail-page-side-sheet:"+this.id,"click",function(){f.close()});b.declarative("open-detail-page-side-sheet:"+this.id,"click",function(b){f.open(b&&b.data?b.data.content:null)})}function r(b){b.code&&"escape"===b.code.toLowerCase()&&(this.close(),document&&document.removeEventListener("keydown",
w))}function x(b,f){b=y("#"+b+"-background .close-button");b.length&&(b[0].style.marginRight=f+10+"px")}var y=b.$,w=null;u.prototype={open:function(b){if(b&&"string"===typeof b){m.call(this,b);if(this.onBeforeShow)this.onBeforeShow();n.showSideSheet(this.id,this.animationDuration);w=r.bind(this);document&&document.addEventListener("keydown",w)}else A.log("Invalid side sheet content. Side sheet ID: "+this.id,"ERROR","DetailPageSideSheet")},close:function(){n.closeSideSheet(this.id,this.animationDuration);
n.resetSideSheetContainer(this.container);if(this.onAfterHide)this.onAfterHide()},updateWidth:function(b){var f=this.container;f&&f.width(b);x(this.id,b)},updateContent:function(b){b&&"string"===typeof b?m.call(this,b):A.log("Invalid side sheet content. Side sheet ID: "+this.id,"ERROR","DetailPageSideSheet")}};return u});"use strict";A.when("A").register("detail-page-side-sheet-handlers",function(b){function n(b,n){f("#"+b+" .detail-page-side-sheet-content").show(function(){m({right:"0px"},b,n)})}
function u(b,n){f("#"+b+" .detail-page-side-sheet-content").show(function(){m({right:"-600px"},b,n)})}function m(m,n,u){b.animate(f("#"+n+" .detail-page-side-sheet-content"),m,u)}var f=b.$;return{showSideSheet:function(b,m){f("body").css("overflow","hidden");f(".detail-page-side-sheet-darken-bg").removeClass("aok-hidden");f("#"+b).removeClass("aok-hidden");n(b,m)},closeSideSheet:function(b,m){u(b,m);f(".detail-page-side-sheet-darken-bg").addClass("aok-hidden");f("#"+b).addClass("aok-hidden");f("body").css("overflow",
"scroll")},getContainer:function(b){return f("#"+b).find(".detail-page-side-sheet-content")},resetSideSheetContainer:function(b){b.html("")}}})});